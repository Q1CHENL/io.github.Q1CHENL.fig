#!/bin/sh

flatpak build --with-appdir --allow=devel --bind-mount=/run/user/1000/doc=/run/user/1000/doc/by-app/io.github.Q1CHENL.fig --share=ipc --socket=fallback-x11 --device=dri --socket=wayland --filesystem=xdg-run/gvfsd --talk-name=org.freedesktop.portal.* --talk-name=org.a11y.Bus --bind-mount=/run/flatpak/at-spi-bus=/run/user/1000/at-spi/bus_0 --env=AT_SPI_BUS_ADDRESS=unix:path=/run/flatpak/at-spi-bus --env=DESKTOP_SESSION=gnome-xorg --env=LANG=en_US.UTF-8 --env=XDG_CURRENT_DESKTOP=GNOME --env=XDG_SESSION_DESKTOP=gnome-xorg --env=XDG_SESSION_TYPE=x11 --env=PATH=/home/qichen/.nvm/versions/node/v18.17.1/bin:/home/qichen/.opam/5.0.0/bin:/usr/share/doc/opencc:/usr/share/opencc:/usr/include/opencc:/home/qichen/.jdks/openjdk-19.0.2/bin:/usr/bin:/var/lib/snapd/snap/bin:/home/qichen/android-ndk-r21e-linux-x86_64/android-ndk-r21e/toolchains/llvm/prebuilt/linux-x86_64/sysroot/usr/lib/aarch64-linux-android/24:/home/qichen/libs/szip-2.1.1/build/bin:/usr/lib64/hdf5/plugin:/home/qichen/libs/zlib-1.2.13:/usr/include/c++/v1:/usr/include/c++/12:/home/qichen/.local/bin:/home/qichen/.local/lib/python3.12/site-packages:/usr/lib:/usr/lib64:/usr/local/bin:/usr/local/cuda-12.3/targets/x86_64-linux/lib:/usr/include/glib-2.0:/home/qichen/go/bin:/home/qichen/.local/lib/python3.11/site-packages:/usr/lib64/ccache:/home/qichen/.cargo/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/var/lib/snapd/snap/bin:/home/qichen/.local/share/JetBrains/Toolbox/scripts:/usr/bin/:/var/lib/snapd/snap/bin/flutter/bin:/usr/lib64/openmpi//bin:/Sdk/emulator:/home/qichen/Libs/ant/bin:/home/qichen/Android/Sdk/ndk/25.1.8937393/toolchains/llvm/prebuilt/linux-x86_64/sysroot/usr/include:/home/qichen/.local/share/JetBrains/Toolbox/scripts:/opt/ParaView-5.11/bin:/home/qichen/.local/bin:/app/bin:/usr/bin --env=LD_LIBRARY_PATH=/app/lib --env=PKG_CONFIG_PATH=:/usr/lib64/:/var/lib/snapd/snap/gnome-42-2204/141/usr/lib/x86_64-linux-gnu/:/usr/lib64/pkgconfig:/app/lib/pkgconfig:/app/share/pkgconfig:/usr/lib/pkgconfig:/usr/share/pkgconfig --share=network --bind-mount=/run/host/fonts=/usr/share/fonts --bind-mount=/run/host/fonts-cache=/usr/lib/fontconfig/cache --filesystem=/home/qichen/.local/share/fonts:ro --filesystem=/home/qichen/.fonts:ro --filesystem=/home/qichen/.cache/fontconfig:ro --bind-mount=/run/host/user-fonts-cache=/home/qichen/.cache/fontconfig --bind-mount=/run/host/font-dirs.xml=/home/qichen/.cache/font-dirs.xml /home/qichen/Dev/flathub/.flatpak/repo /usr/bin/meson "$@"